## This file is created by rgg program in MeshKit ##
#User needs to specify mesh interval and schemes in this file
#
{include("6.template.jou")}
#
set logging on file '6.log'
Timer Start
# Import geometry file 
import step '6.stp'
#
#Creating blocks, Note: you might need to combine some blocks
#Creating groups
group "g_mat_c2coolant" add body name "mat_c2coolant"
group "g_mat_c1coolant" add body name "mat_c1coolant"
group "g_mat_ocoolant" add body name "mat_ocoolant"
group "g_mat_coolant" add body name "mat_coolant"
group "g_mat_scoolant" add body name "mat_scoolant"
group "g_mat_fuel" add body name "mat_fuel"
group "g_mat_block" add body name "mat_block"
group "g_mat_poison" add body name "mat_poison"
group "g_mat_control" add body name "mat_control"
group "g_mat_fhh" add body name "mat_fhh"
#{nb1 =NumInGrp('g_mat_c2coolant')}
#{Ifndef(nb1)}
#{else}
block 600 body in g_mat_c2coolant
block 600 name "b_mat_c2coolant"
#{endif}
#{nb2 =NumInGrp('g_mat_c1coolant')}
#{Ifndef(nb2)}
#{else}
block 601 body in g_mat_c1coolant
block 601 name "b_mat_c1coolant"
#{endif}
#{nb3 =NumInGrp('g_mat_ocoolant')}
#{Ifndef(nb3)}
#{else}
block 602 body in g_mat_ocoolant
block 602 name "b_mat_ocoolant"
#{endif}
#{nb4 =NumInGrp('g_mat_coolant')}
#{Ifndef(nb4)}
#{else}
block 603 body in g_mat_coolant
block 603 name "b_mat_coolant"
#{endif}
#{nb5 =NumInGrp('g_mat_scoolant')}
#{Ifndef(nb5)}
#{else}
block 604 body in g_mat_scoolant
block 604 name "b_mat_scoolant"
#{endif}
#{nb6 =NumInGrp('g_mat_fuel')}
#{Ifndef(nb6)}
#{else}
block 605 body in g_mat_fuel
block 605 name "b_mat_fuel"
#{endif}
#{nb7 =NumInGrp('g_mat_block')}
#{Ifndef(nb7)}
#{else}
block 606 body in g_mat_block
block 606 name "b_mat_block"
#{endif}
#{nb8 =NumInGrp('g_mat_poison')}
#{Ifndef(nb8)}
#{else}
block 607 body in g_mat_poison
block 607 name "b_mat_poison"
#{endif}
#{nb9 =NumInGrp('g_mat_control')}
#{Ifndef(nb9)}
#{else}
block 608 body in g_mat_control
block 608 name "b_mat_control"
#{endif}
#{nb10 =NumInGrp('g_mat_fhh')}
#{Ifndef(nb10)}
#{else}
block 609 body in g_mat_fhh
block 609 name "b_mat_fhh"
#{endif}
#
#Imprint geometry
imprint all
#
Merge Tolerance 0.0001
#
#Merge geometry
merge all
#
#Set Meshing Scheme and Sizes, use template.jou to specify sizes
group 'tmpgrp' equals surface name "mat_c2coolant_bot"
surface in tmpgrp  size {mat_c2coolant_surf_size}
group 'tmpgrp' equals surface name "mat_c1coolant_bot"
surface in tmpgrp  size {mat_c1coolant_surf_size}
group 'tmpgrp' equals surface name "mat_ocoolant_bot"
surface in tmpgrp  size {mat_ocoolant_surf_size}
group 'tmpgrp' equals surface name "mat_coolant_bot"
surface in tmpgrp  size {mat_coolant_surf_size}
group 'tmpgrp' equals surface name "mat_scoolant_bot"
surface in tmpgrp  size {mat_scoolant_surf_size}
group 'tmpgrp' equals surface name "mat_fuel_bot"
surface in tmpgrp  size {mat_fuel_surf_size}
group 'tmpgrp' equals surface name "mat_block_bot"
surface in tmpgrp  size {mat_block_surf_size}
group 'tmpgrp' equals surface name "mat_poison_bot"
surface in tmpgrp  size {mat_poison_surf_size}
group 'tmpgrp' equals surface name "mat_control_bot"
surface in tmpgrp  size {mat_control_surf_size}
group 'tmpgrp' equals surface name "mat_fhh_bot"
surface in tmpgrp  size {mat_fhh_surf_size}
#
#Surfaces mesh, use template.jou to specify sizes
group 'tmpgrp' equals surface name "mat_c2coolant_top"
surface in tmpgrp  size {mat_c2coolant_surf_size}
surface in tmpgrp scheme {PAVE}
group 'edges' equals curve with name 'side_edge'
curve in edges interval {TOP_EDGE_INTERVAL}
group 'tmpgrp' equals surface name "mat_c1coolant_top"
surface in tmpgrp  size {mat_c1coolant_surf_size}
surface in tmpgrp scheme {PAVE}
group 'tmpgrp' equals surface name "mat_ocoolant_top"
surface in tmpgrp  size {mat_ocoolant_surf_size}
surface in tmpgrp scheme {PAVE}
group 'tmpgrp' equals surface name "mat_coolant_top"
surface in tmpgrp  size {mat_coolant_surf_size}
surface in tmpgrp scheme {PAVE}
group 'tmpgrp' equals surface name "mat_scoolant_top"
surface in tmpgrp  size {mat_scoolant_surf_size}
surface in tmpgrp scheme {PAVE}
group 'tmpgrp' equals surface name "mat_fuel_top"
surface in tmpgrp  size {mat_fuel_surf_size}
surface in tmpgrp scheme {PAVE}
group 'tmpgrp' equals surface name "mat_block_top"
surface in tmpgrp  size {mat_block_surf_size}
surface in tmpgrp scheme {PAVE}
group 'tmpgrp' equals surface name "mat_poison_top"
surface in tmpgrp  size {mat_poison_surf_size}
surface in tmpgrp scheme {PAVE}
group 'tmpgrp' equals surface name "mat_control_top"
surface in tmpgrp  size {mat_control_surf_size}
surface in tmpgrp scheme {PAVE}
group 'tmpgrp' equals surface name "mat_fhh_top"
surface in tmpgrp  size {mat_fhh_surf_size}
surface in tmpgrp scheme {PAVE}
#
group 'tmpgrp' add surface name '_top'
mesh tmpgrp
surf with z_coord > {Z_MID -.1*Z_HEIGHT} and z_coord < {Z_MID + .1*Z_HEIGHT} size {AXIAL_MESH_SIZE}
mesh vol all
## BLOCK CREATION USING HEXES
## BLOCK CREATION USING HEXES
## BLOCK CREATION USING HEXES
## BLOCK CREATION USING HEXES
## BLOCK CREATION USING HEXES
## BLOCK CREATION USING HEXES
## BLOCK CREATION USING HEXES
## BLOCK CREATION USING HEXES
## BLOCK CREATION USING HEXES
## BLOCK CREATION USING HEXES
renumber hex all start_id 6000000
#Set color for different parts
color body in g_mat_c2coolant thistle
color body in g_mat_c1coolant grey
color body in g_mat_ocoolant deepskyblue
color body in g_mat_coolant red
color body in g_mat_scoolant purple
color body in g_mat_fuel green
color body in g_mat_block yellow
color body in g_mat_poison royalblue
color body in g_mat_control magenta
color body in g_mat_fhh cyan
delete group all
#
#Save file
save as '6.cub' overwrite
Timer Stop
